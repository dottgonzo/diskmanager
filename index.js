var execSync = require("exec-sync");
module.exports = function () {
    var fdi = execSync("fdisk -l|grep '/dev/s'").split("\n");
    var disks = [];
    for (var i = 0; i < fdi.length; i++) {
        if (fdi[i].split("isk").length > 1) {
            disks.push({ line: fdi[i], sectors_start: fdi[i].replace(/ +(?= )/g, "").split(" ")[1], disk: fdi[i].replace(/ +(?= )/g, "").split(" ")[1].replace(":", ""), sectors: fdi[i].replace(/ +(?= )/g, "").split(" ")[6], size: fdi[i].replace(/ +(?= )/g, "").split(" ")[2].replace(",", "."), size_unit: fdi[i].replace(/ +(?= )/g, "").split(" ")[3].replace(",", ""), partitions: [] });
        }
        else {
            var part = { disk: fdi[i].split(" ")[0], sectors_start: fdi[i].replace(/ +(?= )/g, "").split(" ")[1], sectors_stop: fdi[i].replace(/ +(?= )/g, "").split(" ")[2], sectors: fdi[i].replace(/ +(?= )/g, "").split(" ")[3], size: fdi[i].replace(/ +(?= )/g, "").split(" ")[4], typeCode: fdi[i].replace(/ +(?= )/g, "").split(" ")[5] };
            disks[disks.length - 1].partitions.push(part);
        }
    }
    return disks;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUVwQyxpQkFBUztJQUNMLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN6RCxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDZixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUMsRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUMsR0FBRyxDQUFDLEVBQUUsU0FBUyxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzlXLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLElBQUksSUFBSSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxZQUFZLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDNVQsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsRCxDQUFDO0lBR0wsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDakIsQ0FBQyxDQUFBIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5sZXQgZXhlY1N5bmMgPSByZXF1aXJlKFwiZXhlYy1zeW5jXCIpO1xuXG5leHBvcnQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBmZGkgPSBleGVjU3luYyhcImZkaXNrIC1sfGdyZXAgJy9kZXYvcydcIikuc3BsaXQoXCJcXG5cIik7XG4gICAgbGV0IGRpc2tzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmZGkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZkaVtpXS5zcGxpdChcImlza1wiKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBkaXNrcy5wdXNoKHsgbGluZTogZmRpW2ldLHNlY3RvcnNfc3RhcnQ6IGZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzFdLCBkaXNrOiBmZGlbaV0ucmVwbGFjZSgvICsoPz0gKS9nLFwiXCIpLnNwbGl0KFwiIFwiKVsxXS5yZXBsYWNlKFwiOlwiLFwiXCIpLCBzZWN0b3JzOmZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzZdLCBzaXplOmZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzJdLnJlcGxhY2UoXCIsXCIsXCIuXCIpLCBzaXplX3VuaXQ6ZmRpW2ldLnJlcGxhY2UoLyArKD89ICkvZyxcIlwiKS5zcGxpdChcIiBcIilbM10ucmVwbGFjZShcIixcIixcIlwiKSwgcGFydGl0aW9uczogW10gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcGFydCA9IHsgZGlzazogZmRpW2ldLnNwbGl0KFwiIFwiKVswXSxzZWN0b3JzX3N0YXJ0OiBmZGlbaV0ucmVwbGFjZSgvICsoPz0gKS9nLFwiXCIpLnNwbGl0KFwiIFwiKVsxXSxzZWN0b3JzX3N0b3A6IGZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzJdLHNlY3RvcnM6IGZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzNdLHNpemU6IGZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzRdLHR5cGVDb2RlOiBmZGlbaV0ucmVwbGFjZSgvICsoPz0gKS9nLFwiXCIpLnNwbGl0KFwiIFwiKVs1XSB9O1xuICAgICAgICAgICAgZGlza3NbZGlza3MubGVuZ3RoIC0gMV0ucGFydGl0aW9ucy5wdXNoKHBhcnQpO1xuICAgICAgICB9XG5cblxuICAgIH1cbiAgICByZXR1cm4gZGlza3M7XG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
