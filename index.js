var execSync = require("sync-exec");
module.exports = function () {
    var fdi = execSync("fdisk -l|grep '/dev/s'").stdout.split("\n");
    var disks = [];
    for (var i = 0; i < fdi.length; i++) {
        if (fdi[i].split("isk").length > 1) {
            disks.push({ sectors_start: fdi[i].replace(/ +(?= )/g, "").split(" ")[1], disk: fdi[i].replace(/ +(?= )/g, "").split(" ")[1].replace(":", ""), sectors: fdi[i].replace(/ +(?= )/g, "").split(" ")[6], size: fdi[i].replace(/ +(?= )/g, "").split(" ")[2].replace(",", "."), size_unit: fdi[i].replace(/ +(?= )/g, "").split(" ")[3].replace(",", ""), partitions: [] });
        }
        else {
            var part = { disk: fdi[i].split(" ")[0], sectors_start: fdi[i].replace(/ +(?= )/g, "").split(" ")[1], sectors_stop: fdi[i].replace(/ +(?= )/g, "").split(" ")[2], sectors: fdi[i].replace(/ +(?= )/g, "").split(" ")[3], size: fdi[i].replace(/ +(?= )/g, "").split(" ")[4], typeCode: fdi[i].replace(/ +(?= )/g, "").split(" ")[5] };
            disks[disks.length - 1].partitions.push(part);
        }
    }
    return disks;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNwQyxpQkFBUztJQUNMLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEUsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ2YsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUNsQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxhQUFhLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBQyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsRUFBRSxTQUFTLEVBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUMsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDalcsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osSUFBSSxJQUFJLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxhQUFhLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDLFlBQVksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUM1VCxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xELENBQUM7SUFDTCxDQUFDO0lBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQztBQUNqQixDQUFDLENBQUEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmxldCBleGVjU3luYyA9IHJlcXVpcmUoXCJzeW5jLWV4ZWNcIik7XG5leHBvcnQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBmZGkgPSBleGVjU3luYyhcImZkaXNrIC1sfGdyZXAgJy9kZXYvcydcIikuc3Rkb3V0LnNwbGl0KFwiXFxuXCIpO1xuICAgIGxldCBkaXNrcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmRpLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmZGlbaV0uc3BsaXQoXCJpc2tcIikubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZGlza3MucHVzaCh7IHNlY3RvcnNfc3RhcnQ6IGZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzFdLCBkaXNrOiBmZGlbaV0ucmVwbGFjZSgvICsoPz0gKS9nLFwiXCIpLnNwbGl0KFwiIFwiKVsxXS5yZXBsYWNlKFwiOlwiLFwiXCIpLCBzZWN0b3JzOmZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzZdLCBzaXplOmZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzJdLnJlcGxhY2UoXCIsXCIsXCIuXCIpLCBzaXplX3VuaXQ6ZmRpW2ldLnJlcGxhY2UoLyArKD89ICkvZyxcIlwiKS5zcGxpdChcIiBcIilbM10ucmVwbGFjZShcIixcIixcIlwiKSwgcGFydGl0aW9uczogW10gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcGFydCA9IHsgZGlzazogZmRpW2ldLnNwbGl0KFwiIFwiKVswXSxzZWN0b3JzX3N0YXJ0OiBmZGlbaV0ucmVwbGFjZSgvICsoPz0gKS9nLFwiXCIpLnNwbGl0KFwiIFwiKVsxXSxzZWN0b3JzX3N0b3A6IGZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzJdLHNlY3RvcnM6IGZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzNdLHNpemU6IGZkaVtpXS5yZXBsYWNlKC8gKyg/PSApL2csXCJcIikuc3BsaXQoXCIgXCIpWzRdLHR5cGVDb2RlOiBmZGlbaV0ucmVwbGFjZSgvICsoPz0gKS9nLFwiXCIpLnNwbGl0KFwiIFwiKVs1XSB9O1xuICAgICAgICAgICAgZGlza3NbZGlza3MubGVuZ3RoIC0gMV0ucGFydGl0aW9ucy5wdXNoKHBhcnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaXNrcztcbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
